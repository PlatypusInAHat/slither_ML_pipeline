data:
  jsonl_path: "data/processed/dataset_from_hf.jsonl"
  num_classes: 4
  max_len: 510
  train_split: null   # nếu đã chia sẵn, để null và dùng toàn bộ rồi sklearn train_test_split
  val_ratio: 0.1
  test_ratio: 0.1
  seed: 42

model:
  name: "codebert"     # one of: [codebert, lstm, cnn]
  pretrained: "microsoft/codebert-base"
  freeze_encoder_for: ["lstm","cnn"]   # encoder đóng băng với LSTM/CNN
  dropout: 0.1
  mlp_hidden: 100     # theo paper: thêm 1 linear 100-d + ReLU + Dropout + linear out
  cnn:
    channels: [256,128,64]
    kernel_size: 3
    pool_kernel: 2
    fc: [32]
  lstm:
    hidden_size: 128
    num_layers: 2
    bidirectional: true
    dropout: 0.5

train:
  epochs: 60
  batch_size: 128
  lr: 1.0e-3          # theo paper cho Optimized-CodeBERT; nếu overfit, thử 5e-5
  weight_decay: 1.0e-4
  gamma: 0.98
  device: "cuda"      # hoặc "cpu"
  num_workers: 4
  mixed_precision: true

metrics:
  average: "macro"    # macro/micro cho F1/Precision/Recall
